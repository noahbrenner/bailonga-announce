mixin inputText(koPropName, isForeach=false)
  - const { class: labelClass, 'data-bind': dataBind, ...otherAttributes } = attributes
  label(
    for=isForeach ? undefined : koPropName
    data-bind=isForeach ? `attr: {for: '${koPropName}' + $index()}` : undefined
    class=labelClass
  )
    block
    input(
      data-bind=`textInput: ${koPropName}${dataBind ? `, ${dataBind}` : ''}`
        + (isForeach ? `, attr: {id: '${koPropName}' + $index()}` : '')
      id=isForeach ? undefined : koPropName
      type="text"
      spellcheck="false"
    )&attributes(otherAttributes)

mixin inputTextarea(koPropName, withCopyButton = false)
  - const { class: labelClass, ...otherAttributes } = attributes
  label(for=koPropName class=labelClass)
    block
    div(class=(withCopyButton ? "show-copy-button" : ""))
      textarea(
        data-bind=`textinput: ${kopropname}`
        id=kopropname
        spellcheck="false"
      )&attributes(otherattributes)

mixin inputUrl(koPropName, urlPattern)
  - const { class: labelClass, ...otherAttributes } = attributes
  label(for=koPropName, class=labelClass)
    block
    input(
      data-bind=`textInput: ${koPropName}`
      id=koPropName
      type="url"
      pattern=urlPattern
      spellcheck="false"
    )&attributes(otherAttributes)

mixin inputDate(koPropName, isForeach=false)
  - const { class: labelClass, ...otherAttributes } = attributes
  label(
    for=isForeach ? undefined : koPropName
    data-bind=isForeach ? `attr: {for: '${koPropName}' + $index()}` : undefined
    class=labelClass
  )
    block
    input(
      data-bind=`value: ${koPropName}`
        + (isForeach ? `, attr: {id: '${koPropName}' + $index()}` : '')
      id=isForeach ? undefined : koPropName
      type="date"
      min="2023-01-04"
      step="7"
    )&attributes(otherAttributes)

mixin inputTime(koPropName, isForeach=false)
  - const { class: labelClass, ...otherAttributes } = attributes
  label(
    for=isForeach ? undefined : koPropName
    data-bind=isForeach ? `attr: {for: '${koPropName}' + $index()}` : undefined
    class=labelClass
  )
    block
    input(
      data-bind=`value: ${koPropName}`
        + (isForeach ? `, attr: {id: '${koPropName}' + $index()}` : '')
      id=isForeach ? undefined : koPropName
      type="time"
      min="19:00"
      max="23:00"
      step="900"
    )&attributes(otherAttributes)

mixin inputSelect(koPropName, koOptionsName)
  - const { class: labelClass, ...otherAttributes } = attributes
  label(for=koPropName, class=labelClass)
    block
    select(
      data-bind=`value: ${koPropName}, options: ${koOptionsName}`
      id=koPropName
    )&attributes(otherAttributes)

mixin facebookGroupCheckboxes(koGroupArrayName, koPostTextName)
  fieldset.fb-group-checkboxes
    legend
      block
    +inputTextarea(koPostTextName, true) Group post text
    div(data-bind=`foreach: ${koGroupArrayName}`)
      label
        input(
          type="checkbox"
          data-bind="checked: $root.facebookGroupCheckboxState[$data]"
        )
        span(data-bind="text: $data")
